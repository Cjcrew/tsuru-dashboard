{% extends "apps/base.html" %}
{% load staticfiles %}

{% block extra_css %}
{{ block.super }}
<link rel="stylesheet" href="{% static "css/abyss.widget.css" %}">
<link rel="stylesheet" href="{% static "css/detail.css" %}">
<link rel="stylesheet" href="{% static "css/morris.css" %}">
{% endblock %}

{% block navbar %}
    {% include "apps/navbar.html" with active="metrics" %}
{% endblock %}

{% block app-content %}
	<div class="row-fluid metrics-container">
		<div class="span12">
				<div class="content">
						<div class="row-fluid">
							<div class="span12" id="metrics">
							</div>
						</div>
				</div>
		</div>
	</div>
{% endblock %}

{% block extra_js %}
<script src="{% static "js/apps/graph.js" %}"></script>
<script src="{% static "js/confirmation.js" %}"></script>
<script src="{% static "js/raphael-min.js" %}"></script>
<script src="{% static "js/morris.min.js" %}"></script>
<script src="{% static "js/apps/detail.js" %}"></script>
<script type="text/javascript">
var appName = "{{ app.name }}";
var envs = {};
{% for env in app.envs %}
	envs["{{ env.name }}"] = "{{ env.value }}";
{% endfor %}
$.detail(appName, envs);
</script>
{% endblock %}
